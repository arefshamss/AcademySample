@using Academy.Application.Extensions
@using Academy.Domain.Enums.User
@model Academy.Domain.ViewModels.User.Admin.AdminUserDetailsViewModel

@{
    ViewData["Title"] = "مشخصات کاربر";
}

@section Breadcrumb
{
    <admin-breadcrumb page-title="@ViewData["Title"]">
        <admin-breadcrumb-item asp-area="Admin" asp-controller="User" asp-action="List">لیست کاربران
        </admin-breadcrumb-item>
        <admin-breadcrumb-item last-active-item="true">@ViewData["Title"]</admin-breadcrumb-item>
    </admin-breadcrumb>
}

<div class="grid grid-cols-12 gap-x-6 gap-y-10">
    <div class="col-span-12">
        <div class="mt-3.5 flex flex-col gap-8">
            <div class="box box--stacked flex flex-col">
                <div class="flex flex-col gap-y-2 p-5 sm:flex-row sm:items-center">
                    <h3 class="text-base font-bold opacity-95">@ViewData["Title"]</h3>
                    <div class="flex flex-col gap-x-3 gap-y-2 rtl:sm:mr-auto ltr:sm:ml-auto sm:flex-row">

                        <div data-tw-merge="" data-tw-placement="bottom-start" class="dropdown relative">
                            <a type="button" asp-area="Admin" asp-controller="User" asp-action="List" data-tw-merge=""
                               data-tw-toggle="dropdown" aria-expanded="false"
                               class="transition duration-200 border shadow-sm inline-flex items-center justify-center py-2 px-3 rounded-md font-medium cursor-pointer focus:ring-4 focus:ring-primary focus:ring-opacity-20 focus-visible:outline-none dark:focus:ring-slate-700 dark:focus:ring-opacity-50 [&:hover:not(:disabled)]:bg-opacity-90 [&:hover:not(:disabled)]:border-opacity-90 [&:not(button)]:text-center disabled:opacity-70 disabled:cursor-not-allowed border-secondary text-slate-500 dark:border-darkmode-100/40 dark:text-slate-300 [&:hover:not(:disabled)]:bg-secondary/20 [&:hover:not(:disabled)]:dark:bg-darkmode-100/10 w-full sm:w-auto">
                                <i data-tw-merge="" data-lucide="corner-up-left"
                                   class="rtl:ml-2 ltr:mr-2 h-4 w-4 stroke-[1.3]"></i>
                                بازگشت
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-3.5 grid grid-cols-12 gap-x-6 gap-y-10">

                <div class="col-span-12 flex flex-col gap-y-7">
                    <div class="box box--stacked flex flex-col p-1.5">
                        <div
                            class="relative h-60 w-full rounded-[0.6rem] bg-gradient-to-b from-theme-1/95 to-theme-2/95">
                            <div
                                class="w-full h-full relative overflow-hidden before:content-[''] before:absolute before:inset-0 before:bg-texture-white before:-mt-[50rem] after:content-[''] after:absolute after:inset-0 after:bg-texture-white after:-mt-[50rem]"></div>
                            <div class="absolute inset-x-0 top-0 mx-auto mt-36 h-32 w-32">
                                <div
                                    class="box image-fit h-full w-full overflow-hidden rounded-full border-[6px] border-white">
                                    <img
                                        src="@Model.AvatarImageName"
                                        alt="@Model.FullName">
                                </div>
                            </div>
                        </div>
                        <div class="rounded-[0.6rem] bg-slate-50 p-5 pt-12 sm:flex-row sm:items-end">
                            <div class="pb-3 text-2xl font-bold text-center w-full">
                                @(Model.FirstName.IsNullOrEmptyOrWhiteSpace() && Model.LastName.IsNullOrEmptyOrWhiteSpace() ? string.Empty.ToShow() : $"{Model.FirstName ?? ""} {Model.LastName ?? ""}")
                            </div>
                            <div
                                class="flex items-center justify-center font-bold @(Model.IsBanned ? "text-danger" : "text-success")">
                                <i data-tw-merge="" data-lucide="user" class="h-3.5 w-3.5 stroke-[1.7]"></i>
                                <div class="rtl:mr-1.5 ltr:ml-1.5 whitespace-nowrap">
                                    @(Model.IsBanned ? "مسدود شده" : "فعال")
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-span-12 flex flex-col gap-y-7">
                    <div class="box box--stacked flex flex-col p-5">
                        <div
                            class="relative sm:col-span-12 lg:col-span-10 md:col-span-8 mb-4 mt-7 rounded-[0.6rem] border border-slate-200/80 dark:border-darkmode-400">
                            <div
                                class="absolute rtl:right-0 ltr:left-0 px-3 rtl:mr-4 ltr:ml-4 -mt-2 text-xs uppercase bg-white text-slate-500">
                                <div class="-mt-px">مشخصات کاربر</div>
                            </div>
                            <div class="p-5">
                                <div class="grid grid-cols-12 gap-5">
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="Mobile"
                                                   class="col-span-3 font-medium text-sm text-slate-500"></label>
                                            <div class="col-span-9 font-medium text-slate-800 flex gap-x-5">
                                                @if (!Model.Mobile.IsNullOrEmptyOrWhiteSpace())
                                                {
                                                    @Model.Mobile.ToShow()
                                                    <div
                                                        class="flex items-center @(Model.IsMobileActive ? "text-success" : "text-danger")">
                                                        <i data-tw-merge="" data-lucide="phone"
                                                           class="h-3.5 w-3.5 stroke-[1.7]"></i>
                                                        <div class="rtl:mr-1.5 ltr:ml-1.5 whitespace-nowrap">
                                                            @(Model.IsMobileActive ? "فعال" : "غیرفعال")
                                                        </div>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <span>ثبت نشده</span>
                                                }
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="Email"
                                                   class="col-span-2 font-medium text-sm text-slate-500"></label>
                                            <div class="col-span-10 font-medium text-slate-800 flex gap-x-5">
                                                @if (!Model.Email.IsNullOrEmptyOrWhiteSpace())
                                                {
                                                    @Model.Email.ToShow()
                                                    <div
                                                        class="flex items-center @(Model.IsEmailActive ? "text-success" : "text-danger")">
                                                        <i data-tw-merge="" data-lucide="phone"
                                                           class="h-3.5 w-3.5 stroke-[1.7]"></i>
                                                        <div class="rtl:mr-1.5 ltr:ml-1.5 whitespace-nowrap">
                                                            @(Model.IsEmailActive ? "فعال" : "غیرفعال")
                                                        </div>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <span>ثبت نشده</span>
                                                }

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="CreatedDate"
                                                   class="col-span-3 font-medium text-sm text-slate-500"></label>
                                            <div class="col-span-9 font-medium text-slate-800 flex gap-x-5">
                                                @Model.CreatedDate.ToShamsi()
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div
                            class="relative col-span-12 lg:col-span-3 mb-4 mt-7 rounded-[0.6rem] border border-slate-200/80 dark:border-darkmode-400">
                            <div
                                class="absolute rtl:right-0 ltr:left-0 px-3 rtl:mr-4 ltr:ml-4 -mt-2 text-xs uppercase bg-white text-slate-500">
                                <div class="-mt-px">وضعیت حساب کاربری</div>
                            </div>

                            <div class="p-5">
                                <div class="grid grid-cols-12 gap-5">
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="IsBannedFromTicket"
                                                   class="col-span-4 font-medium text-sm text-slate-500"></label>
                                            <div class="col-span-8 font-medium text-slate-800 flex gap-x-5">
                                                <div
                                                    class="flex items-center @(Model.IsBannedFromTicket ? "text-danger" : "text-success")">
                                                    <i data-tw-merge="" data-lucide="message-square-text"
                                                       class="h-3.5 w-3.5 stroke-[1.7]"></i>
                                                    <div class="rtl:mr-1.5 ltr:ml-1.5 whitespace-nowrap">
                                                        @(Model.IsBannedFromTicket ? "غیرفعال" : "فعال")
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="IsBannedFromComment"
                                                   class="col-span-4 font-medium text-sm text-slate-500"></label>
                                            <div class="col-span-8 font-medium text-slate-800 flex gap-x-5">
                                                <div
                                                    class="flex items-center @(Model.IsBannedFromComment ? "text-danger" : "text-success")">
                                                    <i data-tw-merge="" data-lucide="message-circle"
                                                       class="h-3.5 w-3.5 stroke-[1.7]"></i>
                                                    <div class="rtl:mr-1.5 ltr:ml-1.5 whitespace-nowrap">
                                                        @(Model.IsBannedFromComment ? "غیرفعال" : "فعال")
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div
                            class="relative col-span-12 lg:col-span-9 mb-4 mt-7 rounded-[0.6rem] border border-slate-200/80 dark:border-darkmode-400">
                            <div
                                class="absolute rtl:right-0 ltr:left-0 px-3 rtl:mr-4 ltr:ml-4 -mt-2 text-xs uppercase bg-white text-slate-500">
                                <div class="-mt-px">اطلاعات تکمیلی</div>
                            </div>
                            <div class="p-5">
                                <div class="grid grid-cols-12 gap-5">
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="Gender"
                                                   class="col-span-4 font-medium text-sm text-slate-500"></label>
                                            <div
                                                class="col-span-8 font-medium text-slate-800">@(Model.Gender == UserGender.None ? string.Empty.ToShow() : Model.Gender.GetEnumName())</div>
                                        </div>
                                    </div>
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="BirthDate"
                                                   class="col-span-4 font-medium text-sm text-slate-500"></label>
                                            <div
                                                class="col-span-8 font-medium text-slate-800">@Model.BirthDate.ToShamsi().ToShow()</div>
                                        </div>
                                    </div>
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="NationalCode"
                                                   class="col-span-4 font-medium text-sm text-slate-500"></label>
                                            <div
                                                class="col-span-8 font-medium text-slate-800">@Model.NationalCode.ToShow()</div>
                                        </div>
                                    </div>
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="BirthCertificateNumber"
                                                   class="col-span-4 font-medium text-sm text-slate-500"></label>
                                            <div
                                                class="col-span-8 font-medium text-slate-800">@Model.BirthCertificateNumber.ToShow()</div>
                                        </div>
                                    </div>
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="FatherName"
                                                   class="col-span-4 font-medium text-sm text-slate-500"></label>
                                            <div
                                                class="col-span-8 font-medium text-slate-800">@Model.FatherName.ToShow()</div>
                                        </div>
                                    </div>
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="ReferralSource"
                                                   class="col-span-4 font-medium text-sm text-slate-500"></label>
                                            <div
                                                class="col-span-8 font-medium text-slate-800">@(Model.ReferralSource == UserReferralSource.None ? string.Empty.ToShow() : Model.ReferralSource.GetEnumName())</div>
                                        </div>
                                    </div>
                                    <div class="col-span-12 md:col-span-6 lg:col-span-4">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="PostalCode"
                                                   class="col-span-4 font-medium text-sm text-slate-500"></label>
                                            <div
                                                class="col-span-8 font-medium text-slate-800">@Model.PostalCode.ToShow()</div>
                                        </div>
                                    </div>
                                    <div class="col-span-12">
                                        <div class="grid grid-cols-12 gap-2 items-center">
                                            <label asp-for="Address" class="font-medium text-sm text-slate-500"></label>
                                            <div
                                                class="col-span-8 font-medium text-slate-800">@Model.Address.ToShow()</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex border-t border-slate-200/80 px-7 py-5 md:justify-end">
                        <a type="button" data-tw-merge=""
                           asp-area="Admin" asp-controller="User" asp-action="Update" asp-route-id="@Model.Id" target="_blank"
                                class="transition duration-200 border shadow-sm inline-flex items-center justify-center py-2 rounded-md font-medium cursor-pointer focus:ring-4 focus:ring-primary focus:ring-opacity-20 focus-visible:outline-none dark:focus:ring-slate-700 dark:focus:ring-opacity-50 [&:hover:not(:disabled)]:bg-opacity-90 [&:hover:not(:disabled)]:border-opacity-90 [&:not(button)]:text-center disabled:opacity-70 disabled:cursor-not-allowed text-primary dark:border-primary [&:hover:not(:disabled)]:bg-primary/10 w-full border-primary/50 px-10 md:w-auto">
                            <i data-tw-merge="" data-lucide="pocket"
                               class="rtl:-mr-2 ltr:-ml-2 rtl:ml-2 ltr:mr-2 h-4 w-4 stroke-[1.3]"></i>
                            ویرایش
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>