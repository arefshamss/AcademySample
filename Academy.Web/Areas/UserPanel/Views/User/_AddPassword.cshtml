@using Academy.Domain.Shared
@model Academy.Domain.ViewModels.User.Client.ClientAddPasswordViewModel

@{
var activeCodeExpireTime = ViewData["ActiveCodeExpireTime"] as string;
var mobileOrEmail = ViewData["mobileOrEmail"] as string;
}

<div>
    <form asp-area="UserPanel"
          asp-controller="User"
          asp-action="AddPasswordModal"
          asp-ajax="true"
          asp-ajax-method="Post"
          asp-ajax-validation="true"
          asp-ajax-update="#panel-content"
          asp-ajax-success="closeSmModal(); window.location.reload(); showToaster('@SuccessMessages.SuccessfullyDone',success);">
        <div class="row g-4">
            <div class="justify-content-center">
                <span dir="rtl" class="text-14">
                    کد ارسال شده به
                    @mobileOrEmail.Trim().ToLower()
                    را وارد کنید
                </span>
            </div>
            <div class="col-xxl-12 mt-2">
                <div class="dashboard__form__wraper">
                    <div class="dashboard__form__input">
                        <label asp-for="OtpCode" class="mb-1"></label>
                        <input asp-for="OtpCode" type="text"
                               placeholder="کد تایید ارسال شده را وارد کنید...">
                        <validation-span asp-validation-for="OtpCode"/>
                    </div>
                </div>
            </div>
            <div class="justify-content-center mt-2">
                <span class="text-14" dir="rtl" id="otp-countdown" enddate="@activeCodeExpireTime"></span>
            </div>
            <div class="col-xxl-12 mt-2">
                <div class="dashboard__form__wraper">
                    <div class="dashboard__form__input">
                        <label asp-for="Password" class="mb-1"></label>
                        <input asp-for="Password" type="text"
                               placeholder="رمز عبور را وارد کنید...">
                        <validation-span asp-validation-for="Password"/>
                    </div>
                </div>
            </div>
            <div class="col-xxl-12 mt-2">
                <div class="dashboard__form__wraper">
                    <div class="dashboard__form__input">
                        <label asp-for="ConfirmPassword" class="mb-1"></label>
                        <input asp-for="ConfirmPassword" type="text"
                               placeholder="تکرار رمز عبور را وارد کنید...">
                        <validation-span asp-validation-for="ConfirmPassword"/>
                    </div>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <button type="submit" class="btn bg-primary text-white btn-md">ذخیره</button>
        </div>
    </form>
</div>